!function(a){var t={gZoomStatus:0,gScaleVal:.7};function n(n,r,s,l,g){if(a(".info_panel").remove(),!o(bangladeshSVG[n])){var p,h="",u="",D="</style>",d='<text id="map_title" y="15"> '+(a("#selectedIndicator").text()?a("#selectedIndicator").text():"")+'</text> <text id="map_data_source" x="80" y="30"> '+((a("#source_id option:selected").text()?a("#source_id option:selected").text():"")+" & "+(a("#time_period_id option:selected").text()?a("#time_period_id option:selected").text():"")+" ( "+n.replace(/([A-Z])/g," $1").trim().replace(/\w\S*/g,function(i){return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()})+" )")+"</text>",m=bangladeshSVG[n].split("</style>");if(null==m[1]?(D='xml:space="preserve">',m=bangladeshSVG[n].split('xml:space="preserve">')):""==(u=null!=m[0].split('<style type="text/css">')[1]?m[0].split('<style type="text/css">')[1]:"")&&(u=null!=m[0].split("<style>")[1]?m[0].split("<style>")[1]:""),"bangladesh"!=n){var v="bangladesh";if(null!=r[n])v=r[n][0].parent_region_id?r[n][0].parent_region_id:"bangladesh";if(null==v)return void alert("No Data");h='<g id="backbtn" class="backbtn notbtn" parent-id="'+v+'"> <rect x="414.1" y="46.403" fill="#F7F7F7" stroke="#CCCCCC" stroke-width="0.5" stroke-miterlimit="10" width="48.666" height="17" fill-opacity="0.5" stroke-opacity="0.8" /><text transform="matrix(1 0 0 1 425.8352 58.7896)" fill="#444444" font-family="Tahoma" font-size="12">Back</text> </g>'}if(null!=n&&""!=n&&"bangladesh"!=n&&"allDistrict"!=n){gScaleVal=1==t.gZoomStatus?gScaleVal:.7;var _='<g id="zoomInOut" class="zoomInOut drag" transform="translate(40,50) scale('+gScaleVal+')" animator="1">'}else if(null!=n&&""!=n&&"allDistrict"==n){gScaleVal=1==t.gZoomStatus?gScaleVal:.7;_='<g id="zoomInOut" class="zoomInOut drag" transform="translate(0,40) scale('+gScaleVal+')" animator="1">'}else{gScaleVal=1==t.gZoomStatus?gScaleVal:.9;_='<g id="zoomInOut" class="zoomInOut drag" transform="translate(40,0) scale('+gScaleVal+')" animator="1">'}var f=m[1];""!=u&&(u="<style>"+u+"</style>");p='<svg version="1.1" id="Bangladesh" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="575.6px" height="600px" viewBox="0 0 445.6 510.6" enable-background="new 0 0 445.6 510.6" xml:space="preserve">'+u+D+_+((f=f.split("</svg>"))[0]+"</g>")+('<g id="show_up_in_map" class="notbtn">'+d+'<g id="zoom_in" class="zoom_map notbtn"><path class="notbtn" fill="#F7F7F7" stroke="#CCCCCC" d="M8.368,67.282h23v0.25h0.049l0.05-19.449c0.101-2.5-2.699-2.4-2.699-2.4l-17-0.1c-4.101-0.4-3.7,2.898-3.7,2.898v19.051h0.3V67.282z" fill-opacity="0.5" stroke-opacity="0.8" /><rect x="8.368" y="67.282" fill="#F7F7F7" width="23" height="0.25" /><text id="zoom_in" transform="matrix(1 0 0 1 15.4065 60.5659)" fill="#4C4C4D" font-family="Tahoma" font-size="14">+</text></g> <g id="zoom_out" class="zoom_map notbtn"><path class="notbtn" fill="#F7F7F7" stroke="#CCCCCC" d="M31.342,67.919h-23l0,0l-0.271-0.032L8.042,86.121c0.2,3,2.5,3.1,2.5,3.1h17.1c3.7-0.199,3.7-2.801,3.7-2.801l0.042-18.49l0,0L31.342,67.919z" fill-opacity="0.5" stroke-opacity="0.8" /><text id="zoom_out" transform="matrix(1 0 0 1 17.7898 83.0659)" fill="#4C4C4D" font-family="Tahoma" font-size="14">-</text></g>'+h+"</g>")+"</svg>",a(g).html(p),null!=n&&""!=n&&"bangladesh"!=n&&"allDistrict"!=n?a(g).height("610px"):null!=n&&""!=n&&"allDistrict"==n?a(g).height("730px"):a(g).height("610px");var b=s.constituencyUpazilasData,k=0;if(n.includes("District")&&void 0!==b&&!o(b)){var y=s.districtWiseUpazilas;for(e in y)a("#"+y[e]).css({"fill-opacity":"0.1"});for(c in b)a("#"+b[c]).css({fill:"rgba(64, 0, 128, 0.7)","fill-opacity":"0.7"});k=1}null!=n&&null!=r[n]?function(t,n){for(i=0;i<t.length;i++){var o={"fill-opacity":"1"},r=t[i];void 0!==t[i].hasConstituency&&1==t[i].hasConstituency?(o.fill="rgba(64, 0, 128, 1)",console.log("YES"+n)):1===n&&(console.log("NO"+n),o={},r={}),a("#"+t[i].region_id).css(o).data("bangladesh_region",r)}a(".map g#zoomInOut path:not(.notbtn), .map g#zoomInOut g:not(.notbtn)").mouseover(function(i){var t=a(this).data("bangladesh_region")?a(this).data("bangladesh_region"):"",n=(t.region_name&&t.region_name,t.total?"Total: "+t.total.toLocaleString("en-UK")+"<br>":""),o=t.disaggreegation?t.disaggreegation:"";if(null!=o)for(var r in o)o.hasOwnProperty(r)&&" "+r+" : "+o[r]+"<br>";var e="";null!=t.region_name?(e=t.region_name+"<br>"+n+"<br>"+o,console.log("REGION NAME : "+e)):(e="No Data",console.log("NO  : "+e),console.log("regionData.region_name  : "+t.region_name)),a('<div class="info_panel">'+e+"</div>").appendTo("body")}).mouseleave(function(){a(".info_panel").remove()}).mousemove(function(i){var t=i.pageX,n=i.pageY;a(".info_panel").css({top:n-100,left:t-a(".info_panel").width()/2})})}(r[n],k):n.search("District")>-1&&a("g#backbtn").attr("parent-id",l[n]),gDragDropStatus=0,function(){var i=document.getElementsByTagName("svg")[0],a=(i.getAttribute("xmlns"),i.createSVGPoint());function t(t){return a.x=t.clientX,a.y=t.clientY,a.matrixTransform(i.getScreenCTM().inverse())}for(var n=i.querySelectorAll(".drag"),o=0,r=n.length;o<r;++o)!function(i){var n;i.addEventListener("mousedown",function(o){i.tagName,i.tagName;var r=t(o);n=function(n){var o=t(n);a.x=o.x-r.x,a.y=o.y-r.y;var e=a.x,s=a.y;i.setAttribute("transform","translate("+e+", "+s+") scale("+gScaleVal+")"),gDragDropStatus=1},document.body.addEventListener("mousemove",n,!1)},!1),document.body.addEventListener("mouseup",function(){document.body.removeEventListener("mousemove",n,!1)},!1)}(n[o])}()}}function o(i){for(var a in i)if(i.hasOwnProperty(a))return!1;return!0}a.fn.generateMap=function(i){var t=a.extend({loadRegion:"bangladesh",regionData:{},regionData3:{bangladesh:[{region_name:"Rangpur",region_id:"rangpurDivision",total:800,population:9794525},{region_name:"Dhaka",region_id:"dhakaDivision",total:700,population:5769750},{region_name:"Rajshahi",region_id:"rajshahiDivision",total:600,population:5557276},{region_name:"Sylhet",region_id:"sylhetDivision",total:500,population:4999932}],rangpurDivision:[{parent_region_id:"bangladesh",region_name:"Panchagarh",region_id:"panchagarhDistrict",total:8001,population:9794525},{region_name:"Thakurgaon",region_id:"thakurgaonDistrict",total:7001,population:5769750},{region_name:"Dinajpur",region_id:"dinajpurDistrict",total:6001,population:5557276},{region_name:"Gaibandha",region_id:"gaibandhaDistrict",total:5001,population:4999932},{region_name:"Kurigram",region_id:"kurigramDistrict",total:4001,population:4881756},{region_name:"Rangpur",region_id:"rangpurDistrict",total:3001,population:4377487},{region_name:"Nilfamari",region_id:"nilphamariDistrict",total:2001,population:4374052},{region_name:"Lalmonirhat",region_id:"lalmonirhatDistrict",total:1001,population:4050803}],rajshahiDivision:[{parent_region_id:"bangladesh",region_name:"Nawabganj",region_id:"nawabganjDistrict",total:801,population:9794525},{region_name:"Naogaon",region_id:"naogaonDistrict",total:701,population:5769750},{region_name:"Joypurhat",region_id:"joypurhatDistrict",total:601,population:5557276},{region_name:"Bogra",region_id:"bograDistrict",total:501,population:4999932},{region_name:"Sirajganj",region_id:"sirajganjDistrict",total:401,population:4881756},{region_name:"Pabna",region_id:"pabnaDistrict",total:301,population:4377487},{region_name:"Natore",region_id:"natoreDistrict",total:201,population:4374052},{region_name:"Rajshahi",region_id:"rajshahiDistrict",total:101,population:4050803}],rangpurDistrict:[{parent_region_id:"rangpurDivision",region_name:"Gangachhara",region_id:"gangachharaUpazila",total:5001,population:9794525},{region_name:"Badarganj",region_id:"badarganjUpazila",total:5001,population:5769750},{region_name:"Taraganj",region_id:"taraganjUpazila",total:5001,population:5557276},{region_name:"Pirganj",region_id:"pirganjUpazila",total:5001,population:4999932},{region_name:"Mithapukur",region_id:"mithapukurUpazila",total:5001,population:4881756},{region_name:"Rangpur Sadar",region_id:"rangpursadarUpazila",total:5001,population:4377487},{region_name:"Kaunia",region_id:"kauniaUpazila",total:5001,population:4374052},{region_name:"Pirgachha",region_id:"pirgachhaUpazila",total:5001,population:4050803}]},parentForDistrictMap:{bargunaDistrict:"barisalDivision",barisalDistrict:"barisalDivision",bholaDistrict:"barisalDivision",jhalakathiDistrict:"barisalDivision",patuakhaliDistrict:"barisalDivision",pirojpurDistrict:"barisalDivision",bandarbanDistrict:"chittagongDivision",brahmanbariaDistrict:"chittagongDivision",chandpurDistrict:"chittagongDivision",chittagongDistrict:"chittagongDivision",comillaDistrict:"chittagongDivision",coxsbazarDistrict:"chittagongDivision",feniDistrict:"chittagongDivision",khagrachhariDistrict:"chittagongDivision",lakshmipurDistrict:"chittagongDivision",noakhaliDistrict:"chittagongDivision",rangamatiDistrict:"chittagongDivision",dhakaDistrict:"dhakaDivision",faridpurDistrict:"dhakaDivision",gazipurDistrict:"dhakaDivision",gopalganjDistrict:"dhakaDivision",jamalpurDistrict:"mymensinghDivision",kishoreganjDistrict:"dhakaDivision",madaripurDistrict:"dhakaDivision",manikganjDistrict:"dhakaDivision",munshiganjDistrict:"dhakaDivision",mymensinghDistrict:"mymensinghDivision",narayanganjDistrict:"dhakaDivision",narsingdiDistrict:"dhakaDivision",netrokonaDistrict:"mymensinghDivision",rajbariDistrict:"dhakaDivision",shariatpurDistrict:"dhakaDivision",sherpurDistrict:"mymensinghDivision",tangailDistrict:"dhakaDivision",bagerhatDistrict:"khulnaDivision",chuadangaDistrict:"khulnaDivision",jessoreDistrict:"khulnaDivision",jhenaidahDistrict:"khulnaDivision",khulnaDistrict:"khulnaDivision",kushtiaDistrict:"khulnaDivision",maguraDistrict:"khulnaDivision",meherpurDistrict:"khulnaDivision",narailDistrict:"khulnaDivision",satkhiraDistrict:"khulnaDivision",bograDistrict:"rajshahiDivision",joypurhatDistrict:"rajshahiDivision",naogaonDistrict:"rajshahiDivision",natoreDistrict:"rajshahiDivision",chapainawabganjDistrict:"rajshahiDivision",pabnaDistrict:"rajshahiDivision",rajshahiDistrict:"rajshahiDivision",sirajganjDistrict:"rajshahiDivision",dinajpurDistrict:"rangpurDivision",gaibandhaDistrict:"rangpurDivision",kurigramDistrict:"rangpurDivision",lalmonirhatDistrict:"rangpurDivision",nilphamariDistrict:"rangpurDivision",panchagarhDistrict:"rangpurDivision",rangpurDistrict:"rangpurDivision",thakurgaonDistrict:"rangpurDivision",habiganjDistrict:"sylhetDivision",maulvibazarDistrict:"sylhetDivision",sunamganjDistrict:"sylhetDivision",sylhetDistrict:"sylhetDivision"},infosForconstituency:{},_this:this,backgroundColor:"white"},i);setTimeout(function(){n(t.loadRegion,t.regionData,t.infosForconstituency,t.parentForDistrictMap,t._this)},1e3),a(document).on("click",".map g path:not(.notbtn), .map g g:not(.notbtn)",function(i){i.preventDefault(),n(a(this).attr("id"),t.regionData,t.infosForconstituency,t.parentForDistrictMap,t._this)}),a(document).on("click",".backbtn",function(i){i.preventDefault();var o=a(this).attr("parent-id")?a(this).attr("parent-id"):"bangladesh";null!=o&&null!=bangladeshSVG[o]&&n(o,t.regionData,t.infosForconstituency,t.parentForDistrictMap,t._this)}),a(document).on("click",".zoom_map",function(i){i.preventDefault(),function(i){var a=document.getElementById("zoomInOut");"zoom_in"==i?(gScaleVal=1.3,a.setAttribute("transform","translate(-80, -10) scale("+gScaleVal+")")):"zoom_out"==i&&(gScaleVal=.7,a.setAttribute("transform","translate(40, 50) scale("+gScaleVal+")"))}(a(this).attr("id"))})}}(jQuery);